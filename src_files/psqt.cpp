
/****************************************************************************************************
 *                                                                                                  *
 *                                     Koivisto UCI Chess engine                                    *
 *                                   by. Kim Kahre and Finn Eggers                                  *
 *                                                                                                  *
 *                 Koivisto is free software: you can redistribute it and/or modify                 *
 *               it under the terms of the GNU General Public License as published by               *
 *                 the Free Software Foundation, either version 3 of the License, or                *
 *                                (at your option) any later version.                               *
 *                    Koivisto is distributed in the hope that it will be useful,                   *
 *                  but WITHOUT ANY WARRANTY; without even the implied warranty of                  *
 *                   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the                  *
 *                           GNU General Public License for more details.                           *
 *                 You should have received a copy of the GNU General Public License                *
 *                 along with Koivisto.  If not, see <http://www.gnu.org/licenses/>.                *
 *                                                                                                  *
 ****************************************************************************************************/

#include "psqt.h"


// indexed by piece
EvalScore piece_values[6] = {
    M(90, 104), M(463, 326), M(474, 288), M(577, 594), M(1359, 1121), M(0, 0),
};


EvalScore piece_square_table[6][2][64]{
        {
                {

                        M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                        M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                        M(   -6,   -3), M(   15,   14), M(    9,   35), M(  -11,   43),
                        M(   -7,   29), M(   -5,   22), M(   -2,   18), M(   -3,   28),
                        M(   -7,    9), M(   -3,   18), M(   -2,   32), M(   -5,   31),
                        M(   -4,   21), M(   -4,   19), M(   -7,   19), M(   -6,   23),
                        M(  -12,   19), M(   -8,   28), M(   -3,   29), M(   13,   23),
                        M(    8,   19), M(    4,   18), M(   -7,   30), M(   -5,   32),
                        M(   -2,   34), M(    1,   44), M(   25,   32), M(   20,   29),
                        M(   19,   21), M(   12,   31), M(   10,   42), M(    4,   48),
                        M(   15,   52), M(   61,   51), M(   95,   40), M(   64,   39),
                        M(   52,   44), M(   41,   61), M(   30,   76), M(    5,   82),
                        M(   85,  180), M(  123,  180), M(  234,  143), M(  224,  165),
                        M(  203,  192), M(  188,  213), M(  159,  231), M(  188,  208),
                        M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                        M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                },
                {

                        M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                        M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                        M(   12,   10), M(   36,   12), M(   18,   25), M(   -5,   38),
                        M(   -4,   36), M(   -4,   32), M(   -9,   29), M(  -13,   34),
                        M(   16,   13), M(   18,   18), M(    2,   29), M(   -4,   31),
                        M(   -1,   31), M(    1,   27), M(  -18,   27), M(  -22,   32),
                        M(   19,   31), M(   11,   40), M(    7,   31), M(   10,   32),
                        M(   15,   26), M(   10,   26), M(  -11,   31), M(  -26,   34),
                        M(   26,   65), M(   25,   64), M(   21,   53), M(   19,   43),
                        M(   32,   30), M(   37,   26), M(   -3,   42), M(  -20,   39),
                        M(   34,  134), M(   62,  133), M(   50,  116), M(   58,   75),
                        M(   86,   33), M(   84,   24), M(   56,   28), M(   -8,   44),
                        M(  228,  273), M(  219,  295), M(  197,  277), M(  228,  226),
                        M(  245,  163), M(  249,  114), M(  119,  144), M(   94,  138),
                        M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                        M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                },
        },
        {
                {

                        M( -110,   20), M(  -83,   45), M(  -74,   47), M(  -73,   64),
                        M(  -75,   67), M(  -83,   42), M(  -86,   30), M( -119,   -3),
                        M(  -86,   56), M(  -91,   62), M(  -75,   51), M(  -76,   68),
                        M(  -74,   67), M(  -90,   51), M( -104,   54), M( -109,   37),
                        M(  -85,   45), M(  -73,   66), M(  -69,   68), M(  -67,   80),
                        M(  -73,   79), M(  -85,   60), M(  -88,   47), M( -101,   21),
                        M(  -75,   67), M(  -52,   79), M(  -69,   94), M(  -65,   97),
                        M(  -76,   93), M(  -81,   87), M(  -90,   70), M(  -94,   47),
                        M(  -67,   65), M(  -69,   81), M(  -51,   95), M(  -72,  105),
                        M(  -75,  108), M(  -71,   91), M(  -82,   65), M(  -89,   54),
                        M(  -89,   55), M(  -73,   69), M(  -21,   83), M(  -37,   86),
                        M(  -58,   91), M(  -74,   91), M(  -95,   63), M( -117,   45),
                        M(  -73,   48), M( -119,   61), M(  -26,   45), M(  -41,   77),
                        M(  -50,   82), M(  -75,   60), M( -110,   61), M( -105,   43),
                        M( -200,  -14), M( -168,   67), M( -208,  102), M(  -90,   66),
                        M( -125,   72), M( -231,   99), M( -211,   68), M( -273,   -2),
                },
                {

                        M(  -74,  -18), M(  -60,   35), M(  -35,   29), M(  -27,   50),
                        M(  -32,   45), M(  -43,   29), M(  -50,   29), M(  -84,   11),
                        M(  -50,   23), M(  -57,   44), M(  -33,   31), M(  -30,   48),
                        M(  -26,   50), M(  -39,   42), M(  -70,   48), M(  -70,   24),
                        M(  -50,   19), M(  -37,   40), M(  -25,   46), M(  -24,   63),
                        M(  -18,   63), M(  -35,   47), M(  -34,   31), M(  -60,   17),
                        M(  -33,   39), M(  -15,   52), M(  -18,   71), M(  -15,   73),
                        M(   -7,   70), M(  -16,   64), M(   -9,   49), M(  -33,   34),
                        M(  -35,   41), M(  -21,   48), M(   -3,   68), M(   -3,   80),
                        M(   -7,   79), M(    0,   68), M(  -13,   45), M(  -18,   35),
                        M(  -75,   33), M(  -22,   38), M(   -7,   67), M(    9,   66),
                        M(   21,   62), M(   34,   52), M(  -10,   29), M(  -29,   17),
                        M(  -51,   13), M(  -47,   38), M(   -6,   30), M(   26,   53),
                        M(   14,   46), M(    7,   27), M(  -60,   32), M(  -26,   13),
                        M( -221,  -20), M( -179,   54), M( -166,   68), M(  -80,   52),
                        M(  -60,   36), M( -143,   54), M(  -50,   15), M( -184,  -39),
                },
        },
        {
                {

                        M(  -63,   -8), M(  -60,   29), M(  -53,   31), M(  -53,   41),
                        M(  -50,   41), M(  -48,   44), M(  -45,   40), M(  -51,   -3),
                        M(  -41,   -1), M(  -44,   -1), M(  -39,   31), M(  -47,   42),
                        M(  -48,   45), M(  -43,   37), M(  -51,    3), M(  -43,   20),
                        M(  -33,   37), M(  -35,   44), M(  -53,   26), M(  -39,   56),
                        M(  -41,   53), M(  -56,   27), M(  -36,   43), M(  -47,   33),
                        M(  -39,   36), M(  -43,   50), M(  -45,   62), M(  -25,   61),
                        M(  -24,   65), M(  -39,   62), M(  -41,   47), M(  -57,   30),
                        M(  -55,   50), M(  -30,   56), M(  -31,   62), M(  -22,   72),
                        M(   -9,   66), M(  -36,   59), M(  -34,   50), M(  -66,   47),
                        M(  -36,   50), M(  -22,   64), M(  -20,   45), M(   -6,   59),
                        M(  -25,   59), M(  -42,   33), M(  -49,   61), M(  -60,   42),
                        M(  -69,   51), M(  -79,   39), M(  -33,   55), M(  -64,   64),
                        M(  -80,   65), M(  -60,   63), M(  -95,   41), M( -102,   62),
                        M( -115,   32), M(  -82,   58), M( -170,   71), M( -141,   72),
                        M( -165,   83), M( -174,   76), M( -115,   73), M( -128,   39),
                },
                {

                        M(    2,  -15), M(  -13,   22), M(    4,   24), M(   -5,   31),
                        M(   -4,   32), M(  -11,   28), M(   -7,   29), M(  -19,  -12),
                        M(   18,   -1), M(   31,  -10), M(   23,   19), M(   15,   27),
                        M(   -1,   30), M(   -0,   26), M(  -18,   -9), M(    1,    6),
                        M(   21,   14), M(   35,   27), M(   22,    8), M(   18,   35),
                        M(   15,   39), M(  -15,   10), M(    4,   28), M(   -5,   22),
                        M(    9,   15), M(   24,   33), M(   24,   44), M(   48,   46),
                        M(   25,   47), M(   14,   43), M(   11,   31), M(    8,   21),
                        M(    1,   33), M(   23,   38), M(   28,   51), M(   42,   54),
                        M(   59,   48), M(   25,   39), M(   35,   39), M(    6,   28),
                        M(   -7,   32), M(   23,   47), M(    7,   26), M(   36,   50),
                        M(   66,   39), M(   58,   16), M(   48,   32), M(   20,   26),
                        M(  -45,   45), M(  -56,   37), M(   -5,   57), M(  -40,   56),
                        M(  -10,   48), M(   43,   30), M(  -10,   14), M(  -27,   28),
                        M(  -68,   36), M(  -90,   63), M(  -89,   60), M( -101,   65),
                        M( -126,   58), M(  -97,   48), M(   23,   31), M(  -43,   20),
                },
        },
        {
                {

                        M( -126,   48), M( -102,   58), M( -100,   65), M( -101,   59),
                        M( -102,   60), M( -109,   69), M( -115,   67), M( -118,   63),
                        M( -179,   66), M( -105,   52), M( -101,   55), M( -109,   61),
                        M( -109,   63), M( -118,   69), M( -122,   65), M( -153,   72),
                        M( -127,   56), M(  -96,   72), M( -108,   73), M( -112,   70),
                        M( -111,   71), M( -125,   79), M( -119,   82), M( -133,   72),
                        M( -121,   77), M(  -96,   87), M( -111,   92), M( -112,   88),
                        M( -112,   90), M( -122,   99), M( -127,  101), M( -126,   87),
                        M(  -90,   88), M(  -72,   85), M(  -69,   90), M(  -74,   89),
                        M(  -67,   91), M(  -91,  100), M( -102,   98), M( -114,   99),
                        M(  -76,   93), M(  -19,   73), M(  -25,   87), M(  -37,   80),
                        M(  -55,   89), M(  -83,  103), M(  -72,   93), M( -117,  108),
                        M(  -90,  104), M(  -89,  108), M(  -40,   88), M(  -83,  116),
                        M(  -83,  117), M(  -95,  117), M( -119,  122), M( -113,  115),
                        M(  -63,  112), M(  -82,  120), M(  -69,  119), M( -111,  122),
                        M( -120,  125), M( -130,  131), M( -103,  122), M( -100,  117),
                },
                {

                        M(  -85,   50), M(  -63,   51), M(  -52,   52), M(  -50,   48),
                        M(  -49,   44), M(  -44,   48), M(  -42,   45), M(  -64,   45),
                        M( -133,   59), M(  -80,   46), M(  -66,   49), M(  -65,   52),
                        M(  -58,   49), M(  -53,   45), M(  -46,   38), M(  -94,   55),
                        M(  -86,   49), M(  -52,   56), M(  -71,   60), M(  -65,   58),
                        M(  -65,   56), M(  -60,   56), M(  -51,   57), M(  -68,   51),
                        M(  -70,   66), M(  -44,   71), M(  -64,   82), M(  -61,   77),
                        M(  -59,   69), M(  -57,   73), M(  -55,   73), M(  -67,   67),
                        M(  -43,   75), M(  -33,   77), M(  -17,   74), M(  -11,   77),
                        M(  -15,   69), M(  -22,   74), M(  -19,   66), M(  -32,   71),
                        M(  -36,   79), M(   13,   61), M(   -5,   81), M(   13,   67),
                        M(   23,   63), M(   17,   66), M(   31,   55), M(  -27,   76),
                        M(  -32,   84), M(  -28,   88), M(  -18,   88), M(  -24,   99),
                        M(  -15,   89), M(   17,   65), M(  -32,   83), M(  -29,   80),
                        M(   18,   70), M(  -15,   90), M(  -27,   99), M(  -47,  102),
                        M(  -35,   96), M(   18,   76), M(    9,   79), M(  -23,   93),
                },
        },
        {
                {

                        M( -141,   71), M( -133,   53), M( -126,   64), M( -117,   81),
                        M( -118,  105), M( -120,  105), M( -126,  131), M( -125,  155),
                        M( -151,   69), M( -133,   49), M( -125,   49), M( -133,   94),
                        M( -130,  106), M( -127,   90), M( -128,  110), M( -135,  128),
                        M( -143,   72), M( -139,   85), M( -154,  114), M( -151,   99),
                        M( -151,  108), M( -148,  120), M( -142,  110), M( -147,  108),
                        M( -151,   97), M( -152,  108), M( -164,  119), M( -177,  137),
                        M( -173,  138), M( -167,  112), M( -161,  117), M( -166,  106),
                        M( -163,  101), M( -165,  135), M( -175,  139), M( -185,  127),
                        M( -187,  129), M( -185,   97), M( -190,  119), M( -182,   92),
                        M( -181,  106), M( -159,  135), M( -164,  130), M( -184,  118),
                        M( -198,   97), M( -206,   88), M( -206,   84), M( -211,   94),
                        M( -180,  128), M( -247,  193), M( -142,  115), M( -244,  156),
                        M( -243,  127), M( -215,   88), M( -265,  124), M( -221,   90),
                        M( -152,   76), M( -204,  141), M( -166,  124), M( -213,  122),
                        M( -215,   90), M( -213,   85), M( -207,   73), M( -226,   81),
                },
                {

                        M(   63,   13), M(   75,   -7), M(   93,  -28), M(   88,    1),
                        M(   84,   -4), M(   74,  -14), M(   69,   23), M(   77,   13),
                        M(   50,    0), M(   75,    3), M(   99,  -33), M(   84,    9),
                        M(   72,    3), M(   76,  -24), M(   76,  -15), M(   71,    7),
                        M(   54,    3), M(   72,   11), M(   65,   25), M(   58,   17),
                        M(   51,   20), M(   52,   22), M(   62,   -1), M(   63,    3),
                        M(   54,   -5), M(   59,   21), M(   43,   33), M(   40,   61),
                        M(   28,   52), M(   36,   37), M(   46,   16), M(   53,   -2),
                        M(   54,  -18), M(   33,   28), M(   33,   11), M(   28,   49),
                        M(   31,   47), M(   30,   40), M(   44,   31), M(   37,    0),
                        M(   30,   -6), M(   31,  -16), M(   32,   -2), M(   11,   29),
                        M(   35,   37), M(   37,   52), M(   60,   -4), M(   20,    2),
                        M(   14,  -12), M(  -35,   46), M(    2,   20), M(  -40,   67),
                        M(  -46,   89), M(   34,   46), M(  -26,   57), M(   17,   -9),
                        M(   16,  -19), M(    4,    9), M(   -8,   14), M(  -30,   44),
                        M(  -24,   50), M(   95,  -21), M(    1,   17), M(   28,  -31),
                },
        },
        {
                {

                        M(  167, -179), M(  198,  -81), M(  194,  -77), M(  226,  -70),
                        M(  247,  -94), M(  199,  -79), M(  182,  -79), M(  163, -188),
                        M(  107,  -93), M(  192,  -41), M(  242,  -60), M(  256,  -73),
                        M(  244,  -76), M(  260,  -67), M(  172,  -34), M(  167, -109),
                        M(  132,  -55), M(  228,  -39), M(  248,  -48), M(  234,  -58),
                        M(  237,  -61), M(  260,  -49), M(  232,  -41), M(  149,  -65),
                        M(  100,  -43), M(  202,  -51), M(  190,  -37), M(  143,  -32),
                        M(  165,  -36), M(  191,  -36), M(  186,  -45), M(   83,  -44),
                        M(   67,  -53), M(  162,  -45), M(  153,  -28), M(   93,  -16),
                        M(  118,  -18), M(  127,  -21), M(  159,  -35), M(   65,  -44),
                        M(   27,  -26), M(   68,  -20), M(   74,  -15), M(   49,   -4),
                        M(   66,   -4), M(   65,   -6), M(   63,  -11), M(   29,  -17),
                        M(   42,  -10), M(   36,   -2), M(   14,    5), M(  -28,   12),
                        M(   -0,    8), M(   -2,   18), M(   29,    5), M(   43,   -8),
                        M(   29,  -44), M(   37,   -9), M(    6,    7), M(  -15,   -9),
                        M(   -8,  -15), M(  -22,   14), M(   37,   -0), M(   39,  -43),
                },
                {

                        M(  192, -182), M(  223,  -64), M(  152,  -44), M(  182,  -22),
                        M(  150,  -42), M(  106,  -44), M(  114,  -49), M(  175, -188),
                        M(   80,  -63), M(  169,  -16), M(  204,  -31), M(  246,  -44),
                        M(  216,  -42), M(  242,  -36), M(   88,   -5), M(  129,  -81),
                        M(  100,  -32), M(  217,  -19), M(  250,  -27), M(  259,  -35),
                        M(  263,  -36), M(  280,  -29), M(  193,  -15), M(   97,  -39),
                        M(   32,  -21), M(  185,  -32), M(  200,  -20), M(  164,  -12),
                        M(  175,  -13), M(  206,  -18), M(  147,  -24), M(   20,  -24),
                        M(   11,  -37), M(  122,  -23), M(  152,  -12), M(   95,    3),
                        M(  119,    4), M(  124,   -4), M(  122,  -15), M(   -1,  -29),
                        M(   -7,  -20), M(   33,   -6), M(   57,   -2), M(   42,   12),
                        M(   58,   14), M(   58,    7), M(   42,    1), M(   -8,   -9),
                        M(   41,  -17), M(   26,   -1), M(   17,    6), M(  -38,   19),
                        M(   -3,   17), M(   -4,   22), M(   27,    5), M(   38,  -14),
                        M(   44,  -68), M(   41,  -23), M(   14,   -3), M(  -14,  -15),
                        M(   -3,  -23), M(  -18,    6), M(   50,  -17), M(   55,  -68),
                },
        },
};
EvalScore piece_our_king_square_table[5][15*15]{
        {
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(  -75,   26), M(  -74,   17), M(  -64,   24), M(  -82,   24), M(  -77,    8),
                M(  -78,  -11), M( -115,   19), M(  -88,  -29), M(  -68,   -4), M(  -66,   -9),
                M(  -62,    6), M(  -60,   13), M(  -47,   28), M(  -55,   37), M(  -88,   65),
                M(  -33,    6), M(  -18,    1), M(  -12,   -4), M(  -17,   -6), M(  -31,  -10),
                M(  -24,  -19), M(  -23,   -8), M(  -30,    2), M(  -17,  -28), M(  -22,  -23),
                M(  -13,  -20), M(  -14,   -3), M(   -8,   -1), M(   -5,   -0), M(   -8,   -2),
                M(   -9,  -22), M(  -15,   -3), M(  -10,  -10), M(   -9,   -8), M(  -12,  -13),
                M(   -5,  -17), M(   -0,  -21), M(    7,  -18), M(    4,  -32), M(   -8,  -20),
                M(   -5,  -18), M(   -8,   -7), M(   -5,  -12), M(   -8,   -9), M(   -8,  -13),
                M(  -15,  -11), M(  -13,   -9), M(  -12,   -6), M(  -11,   -7), M(  -11,   -3),
                M(   -5,   -9), M(    6,   -8), M(   17,  -14), M(    3,  -16), M(   -5,  -10),
                M(   -9,   -5), M(  -11,   -8), M(  -11,   -7), M(  -12,  -10), M(   -5,  -19),
                M(  -18,  -15), M(  -17,   -5), M(  -17,   -3), M(  -13,    1), M(  -12,   -0),
                M(   -7,    1), M(   13,   -0), M(   26,   -4), M(    1,    1), M(   -4,    1),
                M(   -9,   -2), M(  -13,   -2), M(  -18,   -2), M(  -17,   -6), M(   -9,  -19),
                M(  -27,   -8), M(  -27,   -2), M(  -22,    2), M(  -14,    2), M(   -9,    5),
                M(   -7,    6), M(   -8,  -17), M(    7,  -10), M(  -12,   -9), M(   -8,    5),
                M(  -14,    5), M(  -21,    3), M(  -25,    3), M(  -26,   -3), M(  -19,  -13),
                M(  -28,   -8), M(  -33,    2), M(  -24,    4), M(  -22,    7), M(  -17,   11),
                M(  -13,   13), M(   -6,   -3), M(    0,    0), M(   -1,   -2), M(  -16,   12),
                M(  -22,   10), M(  -31,    9), M(  -28,    4), M(  -31,    1), M(  -23,   -9),
                M(  -56,    2), M(  -37,    3), M(  -34,    5), M(  -27,    7), M(  -34,   18),
                M(  -33,   20), M(  -52,   14), M(  -42,   22), M(  -58,   11), M(  -30,   19),
                M(  -39,   17), M(  -36,   10), M(  -38,    9), M(  -41,    5), M(  -54,    3),
                M(  -80,   16), M(  -56,    1), M(  -70,   14), M(  -61,   11), M(  -60,   24),
                M(  -68,   23), M(  -64,   27), M(  -49,   23), M(  -73,   27), M(  -49,   15),
                M(  -84,   31), M(  -58,   15), M(  -71,   18), M(  -74,   14), M(  -93,   17),
                M( -107,   19), M( -124,   22), M(  -76,   12), M(  -80,   18), M(  -83,   27),
                M(  -95,   31), M(  -88,   33), M(  -89,   42), M(  -89,   30), M(  -94,   28),
                M( -109,   33), M(  -90,   25), M(  -97,   18), M( -104,   21), M( -115,   22),
                M( -205,   31), M( -124,   15), M(  -76,   22), M(  -99,   21), M( -116,   38),
                M( -136,   43), M( -127,   51), M( -124,   56), M( -125,   49), M( -102,   32),
                M( -104,   39), M( -120,   25), M( -151,   28), M(  -86,   14), M( -232,   51),
                M( -133,   29), M( -113,   28), M( -126,   25), M( -137,   34), M( -133,   35),
                M( -191,   72), M( -129,   63), M( -127,   73), M( -188,   70), M( -117,   64),
                M(  -58,   34), M( -145,   28), M( -188,   30), M( -178,   45), M( -163,   24),
                M( -439,   66), M( -193,   33), M(  -96,   43), M(  -84,   48), M( -192,  109),
                M( -190,  116), M( -174,   95), M( -150,   86), M( -197,   77), M( -201,   73),
                M( -147,   74), M( -118,   22), M(  -15,    2), M( -184,   32), M( -403,   82),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
        },
        {
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
        },
        {
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
        },
        {
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
        },
        {
                M(  -77,  131), M(  -34,  105), M(  -30,   96), M(  -57,  118), M(  -51,   83),
                M(  -52,   93), M(  -43,  100), M(  -27,   74), M(  -46,   89), M(  -31,   67),
                M(  -58,   97), M(  -42,   89), M(  -21,   81), M(  -21,   86), M(  -20,   72),
                M(  -16,   56), M(  -16,   75), M(  -18,   71), M(  -18,   75), M(  -28,   71),
                M(  -38,   73), M(  -15,   64), M(   -7,   46), M(  -17,   58), M(  -23,   61),
                M(  -19,   61), M(  -11,   61), M(   -6,   64), M(   -6,   77), M(  -15,   57),
                M(   -9,   41), M(   -2,   46), M(  -10,   56), M(  -15,   41), M(  -31,   61),
                M(  -16,   39), M(  -28,   62), M(  -14,   44), M(  -28,   53), M(  -20,   45),
                M(  -14,   47), M(   -7,   38), M(   -6,   53), M(    0,   41), M(   -3,   36),
                M(    4,    2), M(   -7,   35), M(   -3,   23), M(   -8,   27), M(  -15,   19),
                M(   -9,   19), M(  -18,   31), M(  -14,   34), M(  -14,   24), M(  -14,   26),
                M(   -4,   16), M(   -0,   23), M(    7,   17), M(    4,   25), M(   -2,    7),
                M(   -6,   11), M(   -7,   11), M(   -3,    6), M(    0,   -9), M(   -6,    8),
                M(    1,   -3), M(  -13,   23), M(   -5,    8), M(   -7,   13), M(   -2,    4),
                M(   -4,    8), M(    2,    2), M(    4,    8), M(    8,    3), M(    6,  -18),
                M(  -18,  -28), M(   -1,  -22), M(   -3,  -13), M(   -2,  -15), M(    1,  -19),
                M(   -4,   -9), M(   -3,    6), M(   -6,   13), M(   -3,    5), M(   -2,   -7),
                M(   -0,  -13), M(    1,   -9), M(    2,   -4), M(    3,  -10), M(   -1,  -34),
                M(   -3,  -71), M(   -7,  -35), M(   -3,  -27), M(   -4,  -25), M(   -4,  -19),
                M(   -2,  -15), M(  -10,  -24), M(   -8,  -32), M(   -7,  -27), M(   -2,  -14),
                M(   -6,  -12), M(   -3,  -16), M(   -1,  -23), M(    0,  -34), M(    2,  -53),
                M(   -8,  -95), M(  -12,  -50), M(  -11,  -43), M(  -10,  -43), M(   -7,  -43),
                M(  -11,  -31), M(  -16,  -43), M(    0,    0), M(   -9,  -48), M(  -11,  -29),
                M(   -9,  -29), M(   -7,  -40), M(   -3,  -46), M(   -4,  -49), M(    1,  -72),
                M(   -2,  -95), M(  -25,  -79), M(  -23,  -54), M(   -8,  -68), M(  -14,  -46),
                M(  -11,  -45), M(   -6,  -62), M(  -11,  -69), M(    0,  -70), M(  -11,  -46),
                M(  -18,  -38), M(  -10,  -54), M(  -15,  -61), M(  -11,  -76), M(   -3,  -82),
                M(  -38, -109), M(   22, -168), M(  -39,  -68), M(  -31,  -71), M(  -35,  -50),
                M(   -9,  -87), M(    4,  -61), M(  -62,  -33), M(  -26,  -64), M(   -8,  -92),
                M(   -5,  -89), M(   -2, -104), M(  -10, -112), M(  -18, -141), M(   20, -207),
                M( -521,  232), M(   88, -252), M(  -72,  -79), M(  -52,  -98), M(  -40, -125),
                M( -135,   -2), M(  -71,  -30), M(  -71,  -62), M( -135,   -5), M( -115,  -45),
                M(   31, -167), M(  -69,  -93), M(  -72,  -66), M(   24, -177), M( -141, -169),
                M( -535,  101), M( -261,   -6), M(   67, -184), M(  -22, -127), M( -158,  -26),
                M(   40, -141), M(  -22,  -87), M(  -87,  -78), M(   -5, -148), M( -255,   24),
                M(  -74, -112), M( -323,   49), M(  -96, -104), M( -167,  -61), M(-1070,  402),
                M( -605,   27), M(  971, -731), M( -529,  131), M(  544, -468), M(   25, -146),
                M(  296, -350), M(  142, -229), M(  173, -262), M( -257,   55), M(   93, -220),
                M(  172, -320), M(  357, -409), M(  243, -304), M(  372, -342), M( -914,  489),
                M(-1197,  416), M( -447,  144), M(  703, -687), M( -525,  112), M(  -18, -163),
                M( -246,   39), M( -266,    1), M(   74, -189), M( -103,  -88), M(   93, -219),
                M(  -81,  -94), M(  -14, -155), M(  426, -459), M(-2391, 1379), M(   72, -132),
                M( -635, -120), M(  314, -529), M( -284,   50), M(  342, -432), M(   82, -316),
                M( -153, -145), M( -626,  302), M( 1299, -825), M( -396,  -52), M(   33, -137),
                M(-2644, 1619), M( 2031,-1859), M(  103,  -32), M(-1840, 1240), M( -107, -107),
        },
};
EvalScore piece_opp_king_square_table[5][15*15]{
        {
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(   30,   -3), M( -457,  161), M( -222,  102), M( -247,   93), M( -191,  140),
                M( -278,  146), M(   51,  123), M( -223,  252), M(  -35,  166), M(  -58,  128),
                M(    6,   84), M( -425,  155), M( -419,  108), M( -285,   64), M( -348,   57),
                M( -199,  116), M( -318,   93), M( -255,   73), M( -253,   84), M( -152,   84),
                M( -180,  130), M( -145,  134), M( -236,  134), M(  -56,  103), M( -123,  107),
                M(  -67,   70), M( -221,   60), M( -321,   77), M( -481,  145), M( -229,   50),
                M( -209,   99), M( -215,   75), M( -202,   59), M( -171,   36), M(  -81,   41),
                M( -103,   75), M( -129,   85), M(  -76,   77), M( -101,   73), M(  -79,   68),
                M( -116,   52), M( -135,   19), M( -177,   43), M( -250,   71), M( -332,   73),
                M( -263,   63), M( -136,   44), M( -116,   30), M(  -86,   25), M(  -59,   22),
                M(  -85,   41), M( -121,   55), M( -123,   43), M(  -36,   38), M( -109,   43),
                M(  -83,   24), M(  -89,   16), M( -116,   30), M( -176,   43), M( -224,   66),
                M( -168,   58), M( -102,   27), M(  -91,   20), M(  -72,   10), M(  -51,   22),
                M(  -73,   15), M( -110,   23), M( -102,   14), M(  -91,   17), M(  -74,   13),
                M(  -62,   27), M(  -94,   14), M(  -77,   18), M( -104,   33), M( -122,   48),
                M(  -75,   30), M(  -60,   18), M(  -45,    8), M(  -37,    4), M(    2,    5),
                M(  -43,   14), M(  -56,   -6), M(  -86,   -0), M(  -83,   -1), M(  -54,   17),
                M(  -41,   15), M(  -43,    8), M(  -55,   15), M(  -72,   28), M(  -83,   30),
                M(  -37,   22), M(  -41,   10), M(  -24,    6), M(  -23,    2), M(   -7,    5),
                M(   -4,    8), M(   31,  -46), M(    0,    0), M(   11,  -45), M(  -26,   15),
                M(  -20,    9), M(  -32,   10), M(  -33,   12), M(  -42,   19), M(  -53,   27),
                M(  -37,   18), M(  -22,    9), M(  -17,    7), M(  -15,    4), M(    1,    5),
                M(   14,    5), M(  -58,  -18), M(  -79,    3), M(  -65,  -19), M(    1,    7),
                M(  -13,   11), M(  -20,   11), M(  -25,   16), M(  -29,   19), M(  -37,   25),
                M(  -14,    8), M(  -20,   13), M(  -13,    7), M(   -7,    8), M(    7,    2),
                M(   11,    6), M(   27,    1), M(   30,   -4), M(   29,    5), M(    5,    8),
                M(   -8,    8), M(  -14,   14), M(  -17,   15), M(  -18,   17), M(  -21,   15),
                M(  -21,   15), M(   -6,    8), M(   -9,   12), M(   -1,    8), M(    7,    4),
                M(   10,    3), M(    8,    5), M(   -3,    0), M(   12,    5), M(    3,    6),
                M(   -3,    8), M(   -4,   12), M(   -9,   15), M(   -7,   13), M(  -15,   15),
                M(  -10,    7), M(   -1,   10), M(   -1,    9), M(   -2,    9), M(    6,    6),
                M(    8,    0), M(    3,    2), M(   -2,   -5), M(    4,    3), M(    6,    2),
                M(    3,    7), M(   -1,   10), M(    1,   13), M(    1,   12), M(   -4,   12),
                M(   -4,    8), M(    4,   11), M(    3,   10), M(    3,   10), M(    4,    5),
                M(    7,    3), M(   -3,    3), M(   -7,    2), M(   -0,    8), M(    4,    6),
                M(    4,    5), M(    4,   12), M(    5,   12), M(    7,   12), M(    1,   10),
                M(    7,    3), M(   15,    2), M(    9,    6), M(    1,    8), M(    2,    7),
                M(    2,    5), M(   -2,   -2), M(   -6,   -0), M(   -1,   13), M(    3,    4),
                M(    7,    5), M(    4,   11), M(    8,   12), M(   13,    8), M(    9,    7),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
        },
        {
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
        },
        {
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
        },
        {
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
                M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0), M(    0,    0),
        },
        {
                M(  843, -457), M(   68, -129), M(   67,  -11), M(  653, -557), M(  -13,  -68),
                M( -310,  227), M(  417, -365), M(   77,  -19), M(   39,  -42), M(   80,    3),
                M(  245, -253), M( -206,   68), M(  412, -365), M(  -81,  -83), M(  552, -471),
                M(   25,  -23), M(    8,  -63), M(   34,  -17), M(  125, -117), M(  347, -311),
                M(   15, -102), M(  121, -159), M(  306, -296), M( -169,    9), M(  213, -253),
                M(  130, -147), M(  203, -194), M(  154, -203), M( -212,   70), M( -189,    9),
                M( -186,   25), M(  143, -151), M(  -13,  -97), M(  258, -292), M(   69, -151),
                M(  267, -386), M(  175, -233), M(  287, -267), M(   21, -149), M(  196, -272),
                M(  340, -350), M(  194, -241), M(  197, -221), M(  154, -176), M(   66, -115),
                M(   39,   -0), M(  -45,   12), M(   64, -125), M(  171, -205), M(  151, -217),
                M(  178, -246), M(  168, -226), M(  207, -237), M(  181, -249), M(  334, -288),
                M(   73, -163), M(   12,  -82), M(  241, -248), M(  330, -256), M(  160,  -80),
                M(   49,  -46), M(  235, -173), M(  315, -261), M(  266, -263), M(  227, -157),
                M(  240, -265), M(  180, -231), M(  284, -202), M(  156, -210), M(  186, -204),
                M(  317, -165), M(  171, -164), M(  178, -155), M(  152, -106), M(  190, -131),
                M(  244, -211), M(  168, -140), M(  156, -121), M(  189, -157), M(  191, -191),
                M(  219, -118), M(   87, -205), M(  138, -134), M(   39, -179), M(  155,  -75),
                M(  163, -164), M(  143, -104), M(  142,  -91), M(  195, -130), M(  106,  -65),
                M(   73,  -21), M(   71,  -72), M(   70,  -76), M(   74,  -88), M(   40, -102),
                M(   -6, -142), M(  267, -265), M(  515, -320), M(  211,  -39), M(  -46, -121),
                M(   23,  -87), M(   60,  -77), M(   60,  -71), M(   42,  -42), M(   71,  -36),
                M(   89,  -14), M(   62,   -4), M(   38,   11), M(   42,  -16), M(   26,    9),
                M(    2,  -35), M(  177,  -99), M(    0,    0), M(  113, -180), M(  -31,  -20),
                M(   34,    9), M(   35,   -8), M(   42,    5), M(   58,    1), M(   68,   10),
                M(   64,  -14), M(   62,  -45), M(   39,  -54), M(   25,  -59), M(    1,  -71),
                M(   -2,  -96), M(  -31,   63), M(   27,   73), M(  -44,   54), M(  -29,  -79),
                M(   -4,  -68), M(   17,  -51), M(   42,  -53), M(   51,  -32), M(   49,   -2),
                M(   30,   30), M(   31,    3), M(   16,    7), M(   10,   -9), M(    1,  -20),
                M(   11,   33), M(  -68,  -43), M(  -58,    3), M(  -38,  -70), M(  -27,   58),
                M(   -5,  -27), M(   -0,   -7), M(   14,   -1), M(   31,   -1), M(   35,   15),
                M(   19,   12), M(   19,  -10), M(    3,  -16), M(   -8,  -31), M(  -40,   15),
                M(  -27,  -18), M(  -17,  -26), M(  -15,   37), M(  -20,  -34), M(  -25,  -21),
                M(  -45,   19), M(  -20,  -23), M(   -1,  -19), M(   10,   -3), M(   24,   -5),
                M(    6,   -4), M(   11,   -7), M(  -12,   -8), M(  -37,   18), M(  -23,   -3),
                M(  -15,   -1), M(   -5,  -10), M(  -18,   16), M(  -14,  -11), M(  -16,   -2),
                M(  -26,   -7), M(  -36,   13), M(  -15,  -13), M(    0,   -5), M(   14,   -8),
                M(   -2,    8), M(  -11,   -4), M(  -25,    3), M(  -20,    3), M(  -18,    8),
                M(  -12,   10), M(   -2,   -4), M(   -9,   30), M(   -8,   -2), M(  -16,   16),
                M(  -18,    7), M(  -23,   -1), M(  -27,    4), M(  -14,    1), M(   -5,   17),
                M(    7,  -22), M(  -20,    7), M(  -15,   -6), M(   -9,    6), M(   -9,   16),
                M(   -8,   16), M(   -1,   20), M(    2,   35), M(   -2,   16), M(   -8,   20),
                M(   -9,   15), M(  -12,    4), M(  -21,    4), M(  -24,    4), M(   -2,  -10),
                M(  -13,  -24), M(    3,  -17), M(    1,   -6), M(    3,   13), M(    1,   20),
                M(    1,   22), M(   11,   22), M(   12,   34), M(    6,   39), M(    5,   24),
                M(    5,   12), M(   -4,   21), M(   -6,    3), M(   -4,  -16), M(  -14,    7),
        },
};
// indexed by wking, bking, piece, square
EvalScore piece_kk_square_tables[N_SQUARES][N_SQUARES][N_PIECES][N_SQUARES];

void psqt_init() {
    for(Square wKingSq = 0; wKingSq < 64; wKingSq++){
        for(Square bKingSq = 0; bKingSq < 64; bKingSq++){
            
            bool   wKSide            = (fileIndex(wKingSq) > 3 ? 0 : 1);
            bool   bKSide            = (fileIndex(bKingSq) > 3 ? 0 : 1);
            bool   sameSideCastle    = wKSide == bKSide;
            
            // pawn, knight, bishop, rook, queen
            for(Piece p = 0; p < 5; p++){
                for(Square sq = 0; sq < 64; sq++){

                    piece_kk_square_tables[wKingSq][bKingSq][p]  [sq] =
                          + piece_square_table              [p][!sameSideCastle][pst_index_white(sq, wKSide)]
                          + piece_values                    [p]
                          + piece_our_king_square_table     [p]     [pst_index_relative_white(sq, wKingSq)]
                          + piece_opp_king_square_table     [p]     [pst_index_relative_white(sq, bKingSq)];

                    piece_kk_square_tables[wKingSq][bKingSq][p+8][sq] =
                          - piece_square_table              [p][!sameSideCastle][pst_index_black(sq, bKSide)]
                          - piece_values                    [p]
                          - piece_our_king_square_table     [p]     [pst_index_relative_black(sq, bKingSq)]
                          - piece_opp_king_square_table     [p]     [pst_index_relative_black(sq, wKingSq)];
                }
            }

            // kings
            for(Square sq = 0; sq < 64; sq++){
                piece_kk_square_tables[wKingSq][bKingSq][WHITE_KING][sq]
                    = + piece_square_table[KING][0][pst_index_white_s(sq)];
                piece_kk_square_tables[wKingSq][bKingSq][BLACK_KING][sq]
                    = - piece_square_table[KING][0][pst_index_black_s(sq)];
            }
            
        }
    }
}